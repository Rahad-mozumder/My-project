<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BookHaven - Online Bookstore</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: #2c3e50;
            color: white;
            text-align: center;
            padding: 2em;
        }
        header h1 {
            margin: 0;
            font-size: 2.5em;
        }
        nav {
            background-color: #34495e;
            padding: 1em;
            text-align: center;
        }
        nav button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 0.5em 1em;
            margin: 0 0.5em;
            cursor: pointer;
            border-radius: 5px;
        }
        nav button:hover {
            background-color: #2980b9;
        }
        .book-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            padding: 2em;
        }
        .book-card {
            background-color: white;
            width: 250px;
            margin: 1em;
            padding: 1em;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            text-align: center;
        }
        .book-card img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
        }
        .book-card h3 {
            margin: 0.5em 0;
            color: #2c3e50;
        }
        .book-card p {
            color: #7f8c8d;
        }
        .book-card button {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 0.5em 1em;
            cursor: pointer;
            border-radius: 5px;
        }
        .book-card button:hover {
            background-color: #c0392b;
        }
    </style>
</head>
<body>
    <header>
        <h1>BookHaven</h1>
        <p>My one-stop online bookstore</p>
    </header>
    <nav>
        <button onclick="filterBooks('all')">All</button>
        <button onclick="filterBooks('fiction')">Fiction</button>
        <button onclick="filterBooks('non-fiction')">Non-Fiction</button>
        <button onclick="filterBooks('mystery')">Mystery</button>
    </nav>
    <div class="book-container" id="bookContainer">
        <!-- Books will be dynamically added here -->
    </div>

    <script>
        const books = [
            { title: "The Great Novel", category: "fiction", price: 15.99, image: "https://via.placeholder.com/150?text=Book1" },
            { title: "Science Facts", category: "non-fiction", price: 19.99, image: "https://via.placeholder.com/150?text=Book2" },
            { title: "Mystery Manor", category: "mystery", price: 12.99, image: "https://via.placeholder.com/150?text=Book3" },
            { title: "Fantasy World", category: "fiction", price: 17.99, image: "https://via.placeholder.com/150?text=Book4" },
            { title: "History Unveiled", category: "non-fiction", price: 22.99, image: "https://via.placeholder.com/150?text=Book5" },
            { title: "Whodunit Tales", category: "mystery", price: 14.99, image: "https://via.placeholder.com/150?text=Book6" }
        ];

        function displayBooks(category) {
            const bookContainer = document.getElementById('bookContainer');
            bookContainer.innerHTML = '';
            const filteredBooks = category === 'all' ? books : books.filter(book => book.category === category);
            
            filteredBooks.forEach(book => {
                const bookCard = document.createElement('div');
                bookCard.className = 'book-card';
                bookCard.innerHTML = `
                    <img src="${book.image}" alt="${book.title}">
                    <h3>${book.title}</h3>
                    <p>Category: ${book.category.charAt(0).toUpperCase() + book.category.slice(1)}</p>
                    <p>Price: $${book.price.toFixed(2)}</p>
                    <button onclick="alert('Added ${book.title} to cart!')">Add to Cart</button>
                `;
                bookContainer.appendChild(bookCard);
            });
        }

        function filterBooks(category) {
            displayBooks(category);
        }

        // Initial display of all books
        displayBooks('all');
    </script>
</body>
</html>